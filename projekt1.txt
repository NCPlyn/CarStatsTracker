9 pin LoRa - SPI
2pin gyro - I2C
2 pin sim - UART
2 PIN GPS - UART
4 sd card - SPI
tft display/touch
----------------------------------------------
gyro - hotovo
lora - funguje, ale kontrola připojení a obnovení připojení (asi koupit/vyrobit zesik nebo anténa lepší)
gps - hotovo
sd - hotovo
gsm - vůbec nic
web - skoro, drag,css
----------------------------------------------
normal mode:
-every 10s sample gyro data and declare if we are moving or not
-if we started moving, create new ride file+id, start sending lora every so often with that id(start/wake gps)
-if we stopped-no moving detection for few minutes (gyro or gps(distancefrom func)), end file and stop lora, sleep gps
drag mode: (best with display,or phone on holder)
-end ride file:
-listen for ready on web/display
-when gyro movement detected (not false positive), start logging all goals
-after deacc- save all to drag file, send special lora packets with basic info about drag
-repeat until switched to normal
armed mode:
-send SMS every XX minutes
-send lora constantly every XX minutes
-can power on alarm
GSM:
-get current gps pos
WIFI:
-can dump all on wifi internet connect
-control panel to change settings
-see drags, taken routes, info about them (how long, fastest speed,map,id,when taken, etc.)
-(same on nodejs server)

https://randomnerdtutorials.com/esp32-esp-now-wi-fi-web-server/ (něco jako socketio xd)
https://eu1.cloud.thethings.network/console/applications/carstatstracker/data

rideId,moving(y/n),lat,lng,kmph,epochTime

----------------------------------------------
esp:
dodělat web (drag - zprovoznit) (styl - navbar,table,drag)
sent/save when on the way frequently(sd even more frequently), when stopped once a time
drag (sd karta save to json, předělat ať umí 20-100 etc., jenom přes gsm nebo ruční/automatický wifi uploader, aktualni data přes get ale ws by byl fajny)
lora kontrola připojení (+ další examples prostudovat)
wifi - connect to station? and send data (místo toho přes GSM?? může posílat furt a pokud není wifi)

server:
custom page uploader (takes file or textbox and does uplink)
stránka (jiná barva row pokud drag)

začít dělat pcb pomalu

//Check whether the Device is joined to the network
//retval returns LORAMACHELPER_SET if joined
lmh_join_status lmh_join_status_get(void);

bool, sledování zda je připojené lorawan
